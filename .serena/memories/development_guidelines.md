# 开发指南

## 日志处理
- 使用 `go.uber.org/zap` 进行结构化日志记录
- 日志文件位置：程序目录下的 `billing.log`
- 日志包含时间戳、级别、消息和结构化字段

## 数据包处理
- 使用大端字节序（Big-Endian）和小端字节序（Little-Endian）混合
- 数据包有固定的头部结构
- 支持多种数据包类型（登录、查询、转换等）

## 数据库操作
- 使用 MySQL 数据库存储账号信息
- 支持老版本 MySQL 密码认证
- 数据库操作集中在 `models` 包中

## 网络通信
- TCP 服务器监听指定端口
- 支持 IP 白名单限制
- 客户端连接信息管理

## 配置管理
- 优先使用 YAML 格式配置
- 支持 JSON 格式作为备选
- 配置文件必须与程序在同一目录

## 错误处理原则
- 及时返回错误，不要忽略
- 错误信息使用中文描述
- 关键错误记录到日志

## 安全考虑
- 不在代码中硬编码密码
- 支持 IP 白名单限制连接
- 密码使用 MD5 加密存储（游戏兼容性要求）